#!/bin/sh
alias config='git -c status.showUntrackedFiles=no --git-dir=$HOME/.cfg/ --work-tree=$HOME'

source ~/.linky

export PATH="${HOME}/bin:$PATH"
export EDITOR='vim'

export GIT_PS1_SHOWUNTRACKEDFILES=1
export GIT_PS1_SHOWDIRTYSTATE=1
export GIT_PS1_SHOWSTASHSTATE=1
export GIT_PS1_SHOWUPSTREAM='auto'
export GIT_PS1_SHOWCOLORHINTS=1
export PROMPT_COMMAND='__git_ps1 "\W " " $ " "[%s]"'

export KERL_BUILD_DOCS="yes"

[ -x "$(command -v nvim)" ] && alias vim=nvim

if [ -n "$ZSH_VERSION" ]; then
	autoload -U +X bashcompinit && bashcompinit
	setopt rmstarsilent

	# ??
	# bindkey -e
	[ -x "$(command -v direnv)" ] && eval "$(direnv hook zsh)"
	[ -d "$HOME/.asdf" ] && . $HOME/.asdf/asdf.sh && fpath=(${ASDF_DIR}/completions $fpath) && autoload -Uz compinit && compinit
fi

if [ -n "$BASH_VERSION" ]; then
	[ -x "$(command -v direnv)" ] && eval "$(direnv hook bash)"
	[ -d "$HOME/.asdf" ] && . $HOME/.asdf/asdf.sh && . $HOME/.asdf/completions/asdf.bash
fi

#[[ -e $(brew --prefix asdf)/asdf.sh ]] && . $(brew --prefix asdf)/asdf.sh
[[ -z "$SSH_AGENT_PID" ]] && eval $(ssh-agent) && trap "ssh-agent -k" exit

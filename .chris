if [ -n "$ZSH_VERSION" ]; then
	[[ -z "$SSH_AGENT_PID" ]] && eval $(ssh-agent) && trap "ssh-agent -k" EXIT

	[ -x "$(command -v direnv)" ] && eval "$(direnv hook zsh)"
	[ -x "$(command -v starship)" ] && eval "$(starship init zsh)"
	[ -d "$HOME/.asdf" ] && . $HOME/.asdf/asdf.sh && fpath=(${ASDF_DIR}/completions $fpath)

	setopt rmstarsilent
	bindkey -e # to make ctrl-w delete a word
	autoload -Uz compinit && compinit
	autoload -U +X bashcompinit && bashcompinit
fi

if [ -n "$BASH_VERSION" ]; then
	[[ -z "$SSH_AGENT_PID" ]] && eval $(ssh-agent) && trap "ssh-agent -k" exit

	[ -x "$(command -v direnv)" ] && eval "$(direnv hook bash)"
	[ -x "$(command -v starship)" ] && eval "$(starship init bash)"
	[ -d "$HOME/.asdf" ] && . $HOME/.asdf/asdf.sh && . $HOME/.asdf/completions/asdf.bash
fi

export PATH="${HOME}/bin:$PATH"
export EDITOR='vim'
export KERL_BUILD_DOCS="yes"
export ERL_AFLAGS="-kernel shell_history enabled"

alias config='git -c status.showUntrackedFiles=no --git-dir=$HOME/.cfg/ --work-tree=$HOME'
[ -x "$(command -v nvim)" ] && alias vim=nvim

. ~/.linky
[ -f "$HOME/.chris.local" ] && . ~/.chris.local

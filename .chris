eval "$(pkgx --shellcode)"  #docs.pkgx.sh/shellcode
env +starship +direnv

[ -d "/home/linuxbrew" ] && eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
[ -d "/opt/homebrew" ] && eval "$(/opt/homebrew/bin/brew shellenv)"

if [ -n "$ZSH_VERSION" ]; then
	[[ -z "$SSH_AGENT_PID" ]] && eval $(ssh-agent) && trap "ssh-agent -k" EXIT

	eval "$(direnv hook zsh)"
	eval "$(starship init zsh)"

	setopt rmstarsilent
	bindkey -e # to make ctrl-w delete a word
	autoload -Uz compinit && compinit
	autoload -U +X bashcompinit && bashcompinit
fi

if [ -n "$BASH_VERSION" ]; then
	[[ -z "$SSH_AGENT_PID" ]] && eval $(ssh-agent) && trap "ssh-agent -k" exit

	eval "$(direnv hook bash)"
	eval "$(starship init bash)"
fi

export PATH="${HOME}/bin:$PATH"
export EDITOR='hx'
export KERL_BUILD_DOCS="yes"
export ERL_AFLAGS="-kernel shell_history enabled"

alias dotfiles='git -c status.showUntrackedFiles=no --git-dir=$HOME/.dotfiles/ --work-tree=$HOME'
alias tree='tree --gitignore'
[ -x "$(command -v nvim)" ] && alias vim=nvim

. ~/.linky
[ -f "$HOME/.chris.local" ] && . ~/.chris.local
